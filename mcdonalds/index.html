<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.82.0"><link rel=canonical href=/mcdonalds/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#000000><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><style>body{visibility:hidden;opacity:0}</style><link rel=stylesheet href=/css/prism.css media=none onload="this.media='all'"><link rel=stylesheet type=text/css href=/css/styles.css><title>Counting the golden arches | Koel Insights | Data and Vizuals</title></head><body><a href=#main>skip to content</a><noscript><style>body{visibility:visible;opacity:1}</style></noscript><svg style="display:none"><symbol id="bookmark" viewBox="0 0 40 50"><g transform="translate(2266 3206.2)"><path style="stroke:currentColor;stroke-width:3.2637;fill:none" d="m-2262.2-3203.4-.2331 42.195 16.319-16.318 16.318 16.318.2331-42.428z"/></g></symbol><symbol id="w3c" viewBox="0 0 127.09899 67.763"><text font-size="83" style="font-size:83px;font-family:Trebuchet;letter-spacing:-12;fill-opacity:0" letter-spacing="-12" y="67.609352" x="-26.782778">W3C</text><text font-size="83" style="font-size:83px;font-weight:700;font-family:Trebuchet;fill-opacity:0" y="67.609352" x="153.21722" font-weight="bold">SVG</text><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m33.695.377 12.062 41.016 12.067-41.016h8.731L46.587 67.763h-.831l-12.48-41.759-12.479 41.759h-.832l-19.965-67.386h8.736l12.061 41.016 8.154-27.618-3.993-13.397h8.737z"/><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m91.355 46.132c0 6.104-1.624 11.234-4.862 15.394-3.248 4.158-7.45 6.237-12.607 6.237-3.882.0-7.263-1.238-10.148-3.702-2.885-2.47-5.02-5.812-6.406-10.022l6.82-2.829c1.001 2.552 2.317 4.562 3.953 6.028 1.636 1.469 3.56 2.207 5.781 2.207 2.329.0 4.3-1.306 5.909-3.911 1.609-2.606 2.411-5.738 2.411-9.401.0-4.049-.861-7.179-2.582-9.399-1.995-2.604-5.129-3.912-9.397-3.912H66.9v-3.991L78.546 8.698H64.484l-3.911 6.655H58.08v-14.976h32.441v4.075l-12.31 21.217c4.324 1.385 7.596 3.911 9.815 7.571 2.22 3.659 3.329 7.953 3.329 12.892z"/><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.21.0 1.414 8.6-5.008 9.583s-1.924-4.064-5.117-6.314c-2.693-1.899-4.447-2.309-7.186-1.746-3.527.73-7.516 4.938-9.258 10.13-2.084 6.21-2.104 9.218-2.178 11.978-.115 4.428.58 7.043.58 7.043s-3.04-5.626-3.011-13.866c.018-5.882.947-11.218 3.666-16.479 2.404-4.627 5.954-7.404 9.114-7.728 3.264-.343 5.848 1.229 7.841 2.938 2.089 1.788 4.213 5.698 4.213 5.698l4.94-9.837z"/><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.82 48.674s-2.208 3.957-3.589 5.48c-1.379 1.524-3.849 4.209-6.896 5.555-3.049 1.343-4.646 1.598-7.661 1.306-3.01-.29-5.807-2.032-6.786-2.764-.979-.722-3.486-2.864-4.897-4.854-1.42-2-3.634-5.995-3.634-5.995s1.233 4.001 2.007 5.699c.442.977 1.81 3.965 3.749 6.572 1.805 2.425 5.315 6.604 10.652 7.545 5.336.945 9.002-1.449 9.907-2.031.907-.578 2.819-2.178 4.032-3.475 1.264-1.351 2.459-3.079 3.116-4.108.487-.758 1.276-2.286 1.276-2.286l-1.276-6.644z"/></symbol><symbol id="tag" viewBox="0 0 177.16535 177.16535"><g transform="translate(0 -875.2)"><path style="fill-rule:evenodd;stroke-width:0;fill:currentColor" d="m159.9 894.3-68.79 8.5872-75.42 77.336 61.931 60.397 75.429-76.565 6.8495-69.755zm-31.412 31.835a10.813 10.813.0 011.8443 2.247 10.813 10.813.0 01-3.5174 14.872l-.0445.0275a10.813 10.813.0 01-14.86-3.5714 10.813 10.813.0 013.5563-14.863 10.813 10.813.0 0113.022 1.2884z"/></g></symbol><symbol id="balloon" viewBox="0 0 141.73228 177.16535"><g transform="translate(0 -875.2)"><g><path style="fill:currentColor" d="m68.156 882.83-.88753 1.4269c-4.9564 7.9666-6.3764 17.321-5.6731 37.378.36584 10.437 1.1246 23.51 1.6874 29.062.38895 3.8372 3.8278 32.454 4.6105 38.459 4.6694-.24176 9.2946.2879 14.377 1.481 1.2359-3.2937 5.2496-13.088 8.886-21.623 6.249-14.668 8.4128-21.264 10.253-31.252 1.2464-6.7626 1.6341-12.156 1.4204-19.764-.36325-12.93-2.1234-19.487-6.9377-25.843-2.0833-2.7507-6.9865-7.6112-7.9127-7.8436-.79716-.20019-6.6946-1.0922-6.7755-1.0248-.02213.0182-5.0006-.41858-7.5248-.22808l-2.149-.22808h-3.3738z"/><path style="fill:currentColor" d="m61.915 883.28-3.2484.4497c-1.7863.24724-3.5182.53481-3.8494.63994-2.4751.33811-4.7267.86957-6.7777 1.5696-.28598.0-1.0254.20146-2.3695.58589-5.0418 1.4418-6.6374 2.2604-8.2567 4.2364-6.281 7.6657-11.457 18.43-12.932 26.891-1.4667 8.4111.71353 22.583 5.0764 32.996 3.8064 9.0852 13.569 25.149 22.801 37.517 1.3741 1.841 2.1708 2.9286 2.4712 3.5792 3.5437-1.1699 6.8496-1.9336 10.082-2.3263-1.3569-5.7831-4.6968-21.86-6.8361-33.002-.92884-4.8368-2.4692-14.322-3.2452-19.991-.68557-5.0083-.77707-6.9534-.74159-15.791.04316-10.803.41822-16.162 1.5026-21.503 1.4593-5.9026 3.3494-11.077 6.3247-15.852z"/><path style="fill:currentColor" d="m94.499 885.78c-.10214-.0109-.13691.0-.0907.0409.16033.13489 1.329 1.0675 2.5976 2.0723 6.7003 5.307 11.273 14.568 12.658 25.638.52519 4.1949.24765 14.361-.5059 18.523-2.4775 13.684-9.7807 32.345-20.944 53.519l-3.0559 5.7971c2.8082.76579 5.7915 1.727 8.9926 2.8441 11.562-11.691 18.349-19.678 24.129-28.394 7.8992-11.913 11.132-20.234 12.24-31.518.98442-10.02-1.5579-20.876-6.7799-28.959-.2758-.4269-.57803-.86856-.89617-1.3166-3.247-6.13-9.752-12.053-21.264-16.131-2.3687-.86369-6.3657-2.0433-7.0802-2.1166z"/><path style="fill:currentColor" d="m32.52 892.22c-.2009-.13016-1.4606.81389-3.9132 2.7457-11.486 9.0476-17.632 24.186-16.078 39.61.79699 7.9138 2.4066 13.505 5.9184 20.562 5.8577 11.77 14.749 23.219 30.087 38.74.05838.059.12188.1244.18052.1838 1.3166-.5556 2.5965-1.0618 3.8429-1.5199-.66408-.32448-1.4608-1.3297-3.8116-4.4602-5.0951-6.785-8.7512-11.962-13.051-18.486-5.1379-7.7948-5.0097-7.5894-8.0586-13.054-6.2097-11.13-8.2674-17.725-8.6014-27.563-.21552-6.3494.13041-9.2733 1.775-14.987 2.1832-7.5849 3.9273-10.986 9.2693-18.07 1.7839-2.3656 2.6418-3.57 2.4409-3.7003z"/><path style="fill:currentColor" d="m69.133 992.37c-6.2405.0309-12.635.76718-19.554 2.5706 4.6956 4.7759 9.935 10.258 12.05 12.625l4.1272 4.6202h11.493l3.964-4.4516c2.0962-2.3541 7.4804-7.9845 12.201-12.768-8.378-1.4975-16.207-2.6353-24.281-2.5955z"/><rect style="stroke-width:0;fill:currentColor" ry="2.0328" height="27.746" width="22.766" y="1017.7" x="60.201"/></g></g></symbol><symbol id="info" viewBox="0 0 41.667 41.667"><g transform="translate(-37.035 -1004.6)"><path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m76.25 1030.2a18.968 18.968.0 01-23.037 13.709 18.968 18.968.0 01-13.738-23.019 18.968 18.968.0 0123.001-13.768 18.968 18.968.0 0113.798 22.984"/><g transform="matrix(1.1146 0 0 1.1146 -26.276 -124.92)"><path style="stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m75.491 1039.5v-8.7472"/><path style="stroke-width:0;fill:currentColor" transform="scale(-1)" d="m-73.193-1024.5a2.3719 2.3719.0 01-2.8807 1.7142 2.3719 2.3719.0 01-1.718-2.8785 2.3719 2.3719.0 012.8763-1.7217 2.3719 2.3719.0 011.7254 2.8741"/></g></g></symbol><symbol id="warning" viewBox="0 0 48.430474 41.646302"><g transform="translate(-1.1273 -1010.2)"><path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:4.151;fill:none" d="m25.343 1012.3-22.14 37.496h44.28z"/><path style="stroke:currentColor;stroke-linecap:round;stroke-width:4.1512;fill:none" d="m25.54 1027.7v8.7472"/><path style="stroke-width:0;fill:currentColor" d="m27.839 1042.8a2.3719 2.3719.0 01-2.8807 1.7143 2.3719 2.3719.0 01-1.718-2.8785 2.3719 2.3719.0 012.8763-1.7217 2.3719 2.3719.0 011.7254 2.8741"/></g></symbol><symbol id="menu" viewBox="0 0 50 50"><rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="0" x="0"/><rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="20" x="0"/><rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="40" x="0"/></symbol><symbol id="link" viewBox="0 0 50 50"><g transform="translate(0 -1002.4)"><g transform="matrix(.095670 0 0 .095670 2.3233 1004.9)"><g><path style="stroke-width:0;fill:currentColor" d="m452.84 192.9-128.65 128.65c-35.535 35.54-93.108 35.54-128.65.0l-42.881-42.886 42.881-42.876 42.884 42.876c11.845 11.822 31.064 11.846 42.886.0l128.64-128.64c11.816-11.831 11.816-31.066.0-42.9l-42.881-42.881c-11.822-11.814-31.064-11.814-42.887.0l-45.928 45.936c-21.292-12.531-45.491-17.905-69.449-16.291l72.501-72.526c35.535-35.521 93.136-35.521 128.64.0l42.886 42.881c35.535 35.523 35.535 93.141-.001 128.66zM198.56 361.41l-45.903 45.9c-11.845 11.846-31.064 11.817-42.881.0l-42.884-42.881c-11.845-11.821-11.845-31.041.0-42.886l128.65-128.65c11.819-11.814 31.069-11.814 42.884.0l42.886 42.886 42.876-42.886-42.876-42.881c-35.54-35.521-93.113-35.521-128.65.0l-128.65 128.64c-35.538 35.545-35.538 93.146.0 128.65l42.883 42.882c35.51 35.54 93.11 35.54 128.65.0l72.496-72.499c-23.956 1.597-48.092-3.784-69.474-16.283z"/></g></g></g></symbol><symbol id="doc" viewBox="0 0 35 45"><g transform="translate(-147.53 -539.83)"><path style="stroke:currentColor;stroke-width:2.4501;fill:none" d="m149.38 542.67v39.194h31.354V542.67z"/><g style="stroke-width:25" transform="matrix(.098003 0 0 .098003 133.69 525.96)"><path d="m220 252.36h2e2" style="stroke:currentColor;stroke-width:25;fill:none"/><path style="stroke:currentColor;stroke-width:25;fill:none" d="m220 409.95h2e2"/><path d="m220 488.74h2e2" style="stroke:currentColor;stroke-width:25;fill:none"/><path d="m220 331.15h2e2" style="stroke:currentColor;stroke-width:25;fill:none"/></g></g></symbol><symbol id="tick" viewBox="0 0 177.16535 177.16535"><g transform="translate(0 -875.2)"><rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="155" width="40" y="702.99" x="556.82"/><rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="40" width="90.404" y="817.99" x="506.42"/></g></symbol></svg><div class=wrapper><header class=intro-and-nav role=banner><div><div class=intro><a class=logo href=https://koelinsights.github.io aria-label="Koel Insights | Data and Vizuals home page"><img src=/images/logo.svg alt></a><p class=library-desc>A place to host our projects and insights.</p></div><nav id=patterns-nav class=patterns role=navigation><h2 class=vh>Main navigation</h2><button id=menu-button aria-expanded=false><svg viewBox="0 0 50 50" aria-hidden="true" focusable="false"><use xlink:href="#menu"/></svg>
Menu</button><ul id=patterns-list><li class=pattern><a href=/><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>Home</span></a></li><li class=pattern><a href=/post/ aria-current=page><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>Blog</span></a></li><li class=pattern><a href=/tags/><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>Tags</span></a></li><li class=pattern><a href=/about/><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>About</span></a></li><li class=pattern><a href=/index.xml><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>RSS</span></a></li></ul></nav></div></header><div class=main-and-footer><div><main id=main><h1><svg class="bookmark-icon" aria-hidden="true" viewBox="0 0 40 50" focusable="false"><use xlink:href="#bookmark"/></svg>Counting the golden arches</h1><div class=date><strong>Publish date: </strong>Apr 19, 2021<br><strong>Last updated: </strong>Jun 6, 2021</div><div class=tags><strong>Tags:</strong><ul aria-label=tags><li><svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false"><use xlink:href="#tag"/></svg><a href=/tags/web-scraping/>web scraping</a></li><li><svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false"><use xlink:href="#tag"/></svg><a href=/tags/pandas/>pandas</a></li><li><svg class="tag-icon" aria-hidden="true" viewBox="0 0 177.16535 177.16535" focusable="false"><use xlink:href="#tag"/></svg><a href=/tags/beautiful-soup/>beautiful soup</a></li></ul></div><nav class=toc aria-labelledby=toc-heading><h2 id=toc-heading>Table of contents</h2><ol><li><a href=#is-too-much-of-a-good-thing-ever-a-bad-thing>Is too much of a good thing ever a bad thing?</a></li><li><a href=#mise-en-place>Mise en place</a></li></ol></nav><h1 id=counting-the-golden-arches>Counting the golden arches</h1><h2 id=is-too-much-of-a-good-thing-ever-a-bad-thing>Is too much of a good thing ever a bad thing?</h2><p>If you are to ever step out of Andheri train station, you will be greeted by a bizarre sight. I had only heard of this from a couple of my friends but never seen it for myself. It is somewhat of a meme, with its own urban legends to boot. This time however, I had seen it for myself and it was all too real to ignore. I was there to meet a friend. On stepping out of the station area that I witnessed this sight for myself&ndash; 3 full fledged McDonalds Stores, all within seconds distance of each other. &ldquo;Just why?&rdquo; That was the only question on my mind. Later on speaking with my friend we finally rationalized that the demand in the area was soo good that each outlet made its moola and there was still more left for other francizes to have their fill.
This made me wonder which other cities/ places in the city have this sort of an unusual concentration of a single fast food francise. I did what any sane man would do, I analysed the the shit out of it! Welcome to another episode of webscrapping, pandas and way too much coffee.</p><p>Today we shall be looking at <em>all</em> (hopefully) the McDonalds stores in India, where they are located, what&rsquo;s their proximity from each other and finally, do there exist &ldquo;MCD Hotspots&rdquo;?</p><h2 id=mise-en-place>Mise en place</h2><p>Let us first equip ourselves with the tools of the trade.
We shall be using limited but powerful tools. Here&rsquo;s a quick listing.</p><ul><li>Jupyter as our interactive notebook</li><li>Official McDonalds website for the location of their stores pan India.</li><li>Pandas, Requests, Beautiful Soup as our main libraries
and finally, <a href=https://miseenmood.web.app>https://miseenmood.web.app</a> for chill sounds to vibe to.</li></ul><p>The beauty of this sort of an unauthorised, unsolicited analysis is that it feels a lot like urban exploration, and I love urbex. All I knew about McD was that they made fine burgers. Never knew about the saucy fight between the McD HQ and it&rsquo;s subsidiaries within the country, the divide between the north and south halfs of the entity and so on. Soo much detail to uncover!
In the limited time I had for this project, I could only find and focus on the North & East hub of their operations in India. Primarily because that&rsquo;s what the official sources provided.</p><p>Before we being, as responsible netizens, it&rsquo;s our duty to respect other developers, site owners and their efforts. We should avoid making too many requests to their servers as good practice.
As in this case, It&rsquo;s all educational. I simply want to address some curiosities for one of my favourite burger joints.
Whatever your need be, make sure you always take a look at the website&rsquo;s <code>robot.txt</code> you can get to from <code>examplesite.com/robots.txt</code>
In our case, as on the day of writing this post, this is what the page says for mcdindia.com:
And it works brilliantly for our purposes.</p><p><img src=attachment:ef05a6f3-5df2-45a6-a376-77351264f9c7.png alt=image.png></p><h3 id=scoping-the-data>Scoping the data</h3><p>Many tutorials completely skip over this part and I dont quite understand why. You would save a lot of time spending just a couple of minutes visually inspecting your target website. In this case it is <a href=https://mcdindia.com/>https://mcdindia.com/</a>.
On first look, it appears incredibly friendly. Seems incredibly welldone visually but that&rsquo;s not of much use to us. We are here for the data which is why I am heading straight to their &ldquo;our brances&rdquo; or &ldquo;store locator&rdquo; page. Most online food delivery websites use similar terminology so this shouldn&rsquo;t be all that difficult to find. A quick <code>CTRL+F</code> for <code>stores</code> brings up this page.
<a href=https://postimg.cc/hzcTV5K6><img src=https://i.postimg.cc/JnBxVfvr/image.png alt="Quick find for stores section"></a></p><p>Since this is a single page app I am optimisting that the data for the stores is either being pulled from a database via an API or is pushed all at once to the brower at load. Which, either way is a fantastic thing for us!</p><p>Selecting a city lists all the local stores.
<a href=https://postimg.cc/Z9ZCQvXy><img src=https://i.postimg.cc/jjnPLzXv/image.png alt="Stores in Agra"></a></p><p>Now that we can &lsquo;see&rsquo; the data its time to unearth what the machine sees. Hit <code>CTRL-SHIFT-I</code> on your computer to bring up the developer tools so that we can <code>Inspect Elements</code>. This is where you&rsquo;ll have to put on your detective hat and bring out your magnifying glass. A few minutes spent here will save your hours spent on broken code.
While many dont talk about it, this is probably the most human part of this process. You are trying to understand the code (and hence the thought process) of the original developer. There must be some common logic that they must have followed in grouping all of this data. Else, it would be as much hell for him/her to deal with the codebase as it is for you to understand it. And no body likes pointless pain.</p><p>Aha! We found something.
If it is indeed what it says on the sticker then our life just got a lot easier!
<a href=https://postimg.cc/jnds6zwR><img src=https://i.postimg.cc/j2yLbcRn/image.png alt="Developer tools showing storelist"></a></p><p>Notice the class name on this element: <code>stores-content-list</code>. Let&rsquo;s open and see what&rsquo;s inside.
<a href=https://postimg.cc/56gzM3qS><img src=https://i.postimg.cc/rwXNxZD3/image.png alt=image.png></a></p><p>Voila! We have found what we have been looking for. This data is infact quite rich and well organized too.
Not only is the full store location listed but also their city, store type, dinning and delivery status. I might add this to the list of fields I&rsquo;d like to study.
This is gonna get a lot more fun.</p><blockquote><p>I&rsquo;d like to add a side note here. Given the superb structure of the data there are probably quicker, one step methods to download and analyse this data but for the sake of this tutorial, I shall go through the full process that may appear like over kill for this scenario but would work regardless in other situations too.</p></blockquote><p>Alright, now that we know that all the data we want exists on this page, the next step is to study all the tags they are mapped to. This will help us while writing our <code>Beautiful Soup</code> code.
Some quick scoping tells us that each store has a couple of mappings, namely&ndash;</p><ul><li>A unique ID (like id = &lsquo;post-524&rsquo;)</li><li>A class to group each store listing (like &lsquo;class=&lsquo;store-item&rsquo;)</li><li>Data keys (like data-city=&lsquo;Faridabad&rsquo;)
and so on.</li></ul><p>I think we now have a good understanding of the code, where our data comes from, how it looks, what we will probably have to do to get it cleaned and so on.</p><p>Alright, enough talkies. Let&rsquo;s jump into the code!</p><h3 id=code-setup>Code setup</h3><p>We start with importing our basic libraries.
Then we setup our headers so that the website sees us just like any other friendly neighbourhood browser.
Here, our code will send a <code>request</code> to the MCD website server. The website will respond to our request with a ball of text that we shall store in the variable <code>html</code>.
We then create another variable called <code>soup</code> which extracts well structured text from that <code>html</code>
Finally, since we already know that the data we need is in the form of records and that they are grouped together with the class of <code>store-item</code>, we shall put this knowledge to use here.
We create another variable by the name <code>content</code> that holds all elements with the class of <code>store-item</code>.</p><p>Now lets walk the talk.</p><p>We being with importing the base libraries (bits of code other people have written that we can use in our code). The some people like to use fancier stuff like selenium but since the website has</p><pre><code class=language-python>import requests
import pandas as pd
from bs4 import BeautifulSoup
import pprint
</code></pre><pre><code class=language-python>

headers = {
    'authority': 'mk0mcdonaldsindfqrur.kinstacdn.com',
    'cache-control': 'max-age=0',
    'sec-ch-ua': '&quot;Google Chrome&quot;;v=&quot;89&quot;, &quot;Chromium&quot;;v=&quot;89&quot;, &quot;;Not A Brand&quot;;v=&quot;99&quot;',
    'sec-ch-ua-mobile': '?0',
    'upgrade-insecure-requests': '1',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36',
    'accept': 'image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8',
    'sec-fetch-site': 'cross-site',
    'sec-fetch-mode': 'no-cors',
    'sec-fetch-user': '?1',
    'sec-fetch-dest': 'image',
    'accept-language': 'en-US,en;q=0.9,en-GB;q=0.8',
    'dnt': '1',
    'sec-gpc': '1',
    'Referer': 'https://mk0mcdonaldsindfqrur.kinstacdn.com/wp-content/cache/min/1/6f0793e0e20e81170d362eaa34f331d1.css',
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36',
    'Origin': 'https://mcdindia.com',
    'referer': 'https://mk0mcdonaldsindfqrur.kinstacdn.com/wp-content/cache/min/1/6f0793e0e20e81170d362eaa34f331d1.css',
    'Upgrade-Insecure-Requests': '1',
    'If-None-Match': '&quot;7757U3yUJtOQign6O5Ji55SURec=&quot;',
}



</code></pre><pre><code class=language-python>response = requests.get('https://mcdindia.com/', headers=headers)
html = response.text
soup = BeautifulSoup(html, 'html.parser')
content = soup.find_all('div', {&quot;class&quot;:&quot;store-item&quot;})
content
</code></pre><p>Alright, in the last step, we filtered out all the divs that have the class <code>store-item</code>.
Here is a quick look at the first 3 items in our list of divs.</p><pre><code class=language-python>content[:3]
</code></pre><p>Yea, I know, not very appetizing but stick with me. I am about to show you one cool trick that every burger hates! &mldr;(probably not).
We will create a dictionary that will hold the data in a <code>key:value</code> pair like format. Much like the oxford dictionary mini book that fell on the other side of the bed which you didn&rsquo;t bother to scoop out since 1992. Anyhoo.
Finally, we shall add each of these to a list called <code>storeList</code> We shall use a <code>for loop</code> for this. It will be awesome.
But before we do that, it makes sense to have one more nice look at an individual item in the content text. Python comes in handy here with the pprint and prettify command/method.</p><pre><code class=language-python>pprint.pprint(content[3].prettify())
</code></pre><p>Let us once again look at a single record to keep aside each of the data points we would like to extract. I shall then create a dictionary with these data points as <code>keys</code>.</p><pre><code class=language-python>content[3]#['data-city']
</code></pre><pre><code class=language-python>storeList = []
for item in content:
    storeItem = {}
    storeItem['city'] = item['data-city']
    storeItem['type'] = item['data-storetype']
    storeItem['address'] = item.find(&quot;div&quot;, class_='location-text').text
    storeItem['dinein'] = item.select_one(&quot;div .item-inner .store-status.dine-in-status p .status-text&quot;).text
    storeItem['delivery'] = item.select_one(&quot;div .item-inner .store-status.delivery-status p .status-text&quot;).text
    storeItem['map'] = item.select_one(&quot;div .directions-text&quot;).a['href']
    storeList.append(storeItem)

</code></pre><p>Okay, what are we doing here you ask?
We start with an empty list, then for each item in <code>content</code> we create a new dictionary record that has these <code>key:value</code> pairs for each of our data points.
Finally, we fill (append) the <code>storeList</code> list with our freshly created dictionary record. That last step, we do for each record in the <code>content</code> list. Hence, the <code>for loop</code>.</p><p>Now it&rsquo;s time for Panadas to shine. We convert the list into a pandas dataframe. This will make it easier for us to export it as CSV, do some cleaning on it or even analyse it in place.
Once we have our dataframe, we would like to inspect or &lsquo;survey&rsquo; it to get a nice overview of how things look.
For this I make use of my 3 horsemen and their 3 siblings:
First 3 make sure there aren&rsquo;t any misfits in our data:</p><ul><li><p>df.info() # Returns the count of NA or blank values ; Checks type of each column (number, string, date-time and so on)</p></li><li><p>df.convert_dtypes # Sets (approximately) the right dtype for each column</p></li><li><p>df.sample(3) # Returns a random sample of 3 rows from the df</p></li><li><p>df.column.nunique() # Count of unique values for each column</p></li></ul><pre><code class=language-python>mcd_stores = pd.DataFrame(storeList)
</code></pre><p>Once we get our data in a list, its time to convert it to a pandas dataframe. This will make analysis more intuitive.
This pretty much completes are quest in collecting the MCD data&mldr;. or does it?
While exploring the google map links I got the idea idea of scrapping the Google Map ratings for each store.
Not only that, in exploring the links I came across another McDonals India website which has got an even more exhaustive list of stores. And get this, They have lat&rsquo; longs' of the store! This means we chan plot the stores on the map of India without having find those details individually. This is all soo exciting!</p><pre><code class=language-python>mcd_stores.info()
mcd_stores.describe()
mcd_stores.nunique()
</code></pre><pre><code>city        0
type        0
address     0
dinein      0
delivery    0
map         0
dtype: int64
</code></pre><p>No misfits in our data. That&rsquo;s great.</p><p>Alright, and that pretty much covers the first half of our project that is to collect and clean the data.
Next week we will take a look at analysing the data, asking some questions and maybe even adding more auxiliary data to this set.
That&rsquo;s it for now. Let me know how you liked this post and if you&rsquo;d want to see more of it. Cheers!</p></main><div id=disqus-container></div><footer role=contentinfo><div><label for=themer>dark theme: <input type=checkbox id=themer class=vh>
<span aria-hidden=true></span></label></div>Data, Data Data; I cannot make bricks without clay! - Sherlock Holmes</footer></div></div></div><script src=/js/dom-scripts.js></script><script src=/js/prism.js></script><script src=/js/search.7aef046a0cc8b0c532f1d20087b920459bc868c936bb48a6ae221eceefca2d07.js></script><link rel=stylesheet href=/css/search.fe0cd54a21628574bff49d721c827d1bb165ab56b0f22dd55ae78addbe61c309.css></link><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css integrity=sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js integrity=sha384-2BKqo+exmr9su6dir+qCw08N2ZKRucY4PrGQPPWU1A7FtlCGjmEGFqXCv5nyM5Ij crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></body></html>